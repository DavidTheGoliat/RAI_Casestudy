<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fairness Case Study - Pennsylvania Employment Agency</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #718096;
            font-size: 1.1rem;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
        }
        
        .sidebar {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .sidebar h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .nav-button {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            background: #f7fafc;
            color: #4a5568;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .nav-button:hover {
            background: #edf2f7;
            transform: translateX(3px);
        }
        
        .nav-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .content {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .content h2 {
            color: #2d3748;
            font-size: 2rem;
            margin-bottom: 30px;
        }
        
        .content h3 {
            color: #2d3748;
            font-size: 1.5rem;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        .card {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .alert {
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid;
        }
        
        .alert-info {
            background: #ebf8ff;
            border-color: #3182ce;
            color: #2c5282;
        }
        
        .alert-warning {
            background: #fef5e7;
            border-color: #f39c12;
            color: #7d6608;
        }
        
        .alert-success {
            background: #f0fff4;
            border-color: #38a169;
            color: #22543d;
        }
        
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #e2e8f0;
        }
        
        th {
            background: #edf2f7;
            font-weight: 600;
            color: #2d3748;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #718096;
            font-size: 0.9rem;
        }
        
        ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        li {
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .footer {
            background: #2d3748;
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            text-align: center;
        }
        
        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
        }
        
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: relative;
                top: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ AI Fairness Case Study</h1>
            <p>Analyse eines Job-Coaching-Programms unter Ber√ºcksichtigung von Effizienz und Fairness</p>
        </div>
        
        <div class="main-grid">
            <nav class="sidebar">
                <h2>Navigation</h2>
                <button class="nav-button active" onclick="showTask('overview')">
                    <span class="icon">üìã</span> √úbersicht
                </button>
                <button class="nav-button" onclick="showTask('task1')">
                    <span class="icon">üìä</span> Task 1: Modell-Performance
                </button>
                <button class="nav-button" onclick="showTask('task2')">
                    <span class="icon">üë•</span> Task 2: Gruppen-Analyse
                </button>
                <button class="nav-button" onclick="showTask('task3')">
                    <span class="icon">üí∞</span> Task 3: Decision Maker Utility
                </button>
                <button class="nav-button" onclick="showTask('task4')">
                    <span class="icon">‚öñÔ∏è</span> Task 4: Fairness Kriterium
                </button>
                <button class="nav-button" onclick="showTask('task5')">
                    <span class="icon">üìà</span> Task 5: Pareto-Front
                </button>
                <button class="nav-button" onclick="showTask('task6')">
                    <span class="icon">‚ö†Ô∏è</span> Task 6: Deployment 2018
                </button>
            </nav>
            
            <main class="content" id="content">
                <!-- Content wird hier dynamisch geladen -->
            </main>
        </div>
        
        <div class="footer">
            <p><strong>üíª Hinweis:</strong> Diese √úbersicht zeigt den konzeptionellen Rahmen. F√ºr die vollst√§ndige Implementierung nutze das Python-Skript.</p>
        </div>
    </div>
    
    <script>
        const content = {
            overview: `
                <h2>√úbersicht</h2>
                
                <div class="alert alert-info">
                    <h3 class="card-title">Kontext der Case Study</h3>
                    <p style="margin-bottom: 15px;">Als Verantwortliche/r einer Arbeitsagentur in Pennsylvania stehst du vor der Herausforderung, ein Job-Coaching-Programm fair und effizient zu verteilen.</p>
                    <ul>
                        <li><strong>üìä Erfolgsrate:</strong> 66% der Teilnehmer finden einen Job</li>
                        <li><strong>üí∞ Kosten:</strong> 20k CHF/Person f√ºr das Programm</li>
                        <li><strong>üìâ Arbeitslosigkeit:</strong> 30k CHF/Jahr Kosten pro arbeitsloser Person</li>
                        <li><strong>‚öñÔ∏è Fairness:</strong> Besondere Aufmerksamkeit f√ºr schwarze vs. wei√üe Arbeitssuchende</li>
                    </ul>
                </div>
                
                <div class="alert alert-warning">
                    <h3 class="card-title">‚ö†Ô∏è Wichtige Hinweise</h3>
                    <ul>
                        <li>Dataset: US Census Data (2014-2018) via folktables</li>
                        <li>Y=1: Person findet Job nach 1 Jahr Coaching</li>
                        <li>Y=0: Person findet keinen Job trotz Coaching</li>
                        <li>Modell: Logistische Regression auf 2014 Daten trainiert</li>
                        <li>Sensibles Attribut: RAC1P (1=White, 2=Black)</li>
                    </ul>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">66%</div>
                        <div class="stat-label">Erfolgsrate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">20k</div>
                        <div class="stat-label">CHF Programmkosten</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">30k</div>
                        <div class="stat-label">CHF Arbeitslosigkeit/Jahr</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">2</div>
                        <div class="stat-label">Perspektiven (DM & DS)</div>
                    </div>
                </div>
                
                <h3>Zwei Perspektiven</h3>
                <div class="card">
                    <div class="card-title">Decision Maker (DM) Perspektive</div>
                    <p>Arbeitsagentur muss Steuergelder effizient einsetzen und Ausgaben minimieren. Fokus auf monet√§rem Nutzen.</p>
                </div>
                
                <div class="card">
                    <div class="card-title">Decision Subject (DS) Perspektive</div>
                    <p>Arbeitssuchende sollten faire Chancen auf Teilnahme am Coaching-Programm haben. Fokus auf Gerechtigkeit.</p>
                </div>
            `,
            
            task1: `
                <h2>Task 1: Modell-Performance</h2>
                
                <h3>1.1 Accuracy Berechnung</h3>
                <div class="card">
                    <p>Berechne die Accuracy des Modells mit Standard-Threshold 0.5:</p>
                    <pre>from sklearn.metrics import accuracy_score

accuracy = accuracy_score(y_test, yhat)
baseline = max(np.mean(y_test), 1 - np.mean(y_test))

print(f"Accuracy: {accuracy:.4f}")
print(f"Baseline: {baseline:.4f}")</pre>
                    <p><strong>Interpretation:</strong> Die Accuracy zeigt, wie oft das Modell richtig vorhersagt. Vergleiche mit der Baseline (immer Mehrheitsklasse vorhersagen).</p>
                </div>
                
                <h3>1.2 Kalibrierung</h3>
                <div class="card">
                    <p>Kalibrierung pr√ºft, ob die vorhergesagten Wahrscheinlichkeiten mit den tats√§chlichen Raten √ºbereinstimmen.</p>
                    <pre>bins = np.linspace(0, 1, 11)  # 10 Bins
bin_indices = np.digitize(scores, bins) - 1

for i in range(10):
    mask = bin_indices == i
    x_i = np.mean(scores[mask])  # Durchschnittlicher Score
    y_i = np.mean(y_test[mask])  # Tats√§chliche Rate
    
    # 95% Konfidenzintervall berechnen
    se = np.sqrt(y_i * (1 - y_i) / n)
    ci = 1.96 * se</pre>
                </div>
                
                <div class="alert alert-info">
                    <strong>Interpretation des Kalibrierungsplots:</strong>
                    <ul>
                        <li><strong>Gut kalibriert:</strong> Punkte liegen nahe der Diagonale</li>
                        <li><strong>√úberkonfident:</strong> Punkte unterhalb der Linie (Modell sagt h√∂here Wahrscheinlichkeiten vorher als tats√§chlich eintreten)</li>
                        <li><strong>Unterkonfident:</strong> Punkte oberhalb der Linie</li>
                        <li><strong>Breite Konfidenzintervalle:</strong> Wenige Datenpunkte in diesem Bin</li>
                    </ul>
                </div>
            `,
            
            task2: `
                <h2>Task 2: Gruppen-Analyse</h2>
                
                <h3>2.1 Score-Verteilung</h3>
                <div class="card">
                    <p>Untersuche, ob das Modell unterschiedliche Score-Verteilungen f√ºr die Gruppen produziert:</p>
                    <pre>white_mask = group_test == 1
black_mask = group_test == 2

plt.hist(scores[white_mask], bins=30, alpha=0.7, label='White')
plt.hist(scores[black_mask], bins=30, alpha=0.7, label='Black')
plt.legend()</pre>
                    <p><strong>Wichtig:</strong> Unterschiedliche Verteilungen k√∂nnen auf Bias hindeuten oder echte Unterschiede in der Population reflektieren.</p>
                </div>
                
                <h3>2.2 Calibration-Between-Groups</h3>
                <div class="card">
                    <p>Pr√ºfe f√ºr jeden Score-Bin, ob die tats√§chlichen Reemployment Rates zwischen den Gruppen signifikant unterschiedlich sind:</p>
                    <pre>from scipy.stats import chi2_contingency

for i in range(10):
    # F√ºr jeden Bin: Chi-Quadrat-Test
    contingency = [[white_positives, white_negatives],
                   [black_positives, black_negatives]]
    chi2, p_value, _, _ = chi2_contingency(contingency)
    
    if p_value < 0.05:
        print("Signifikanter Unterschied!")</pre>
                </div>
                
                <h3>2.3 Fairness-Metriken</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Metrik</th>
                            <th>Formel</th>
                            <th>Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>BR</strong> (Base Rate)</td>
                            <td>P(Y=1)</td>
                            <td>Anteil der Menschen, die tats√§chlich einen Job finden</td>
                        </tr>
                        <tr>
                            <td><strong>PR</strong> (Positive Rate)</td>
                            <td>P(D=1)</td>
                            <td>Anteil, der Zugang zum Programm erh√§lt</td>
                        </tr>
                        <tr>
                            <td><strong>TPR</strong> (True Positive Rate)</td>
                            <td>P(D=1|Y=1)</td>
                            <td>Von denen, die profitieren w√ºrden: wie viele bekommen Zugang?</td>
                        </tr>
                        <tr>
                            <td><strong>FNR</strong> (False Negative Rate)</td>
                            <td>P(D=0|Y=1)</td>
                            <td>Von denen, die profitieren w√ºrden: wie viele werden abgelehnt?</td>
                        </tr>
                        <tr>
                            <td><strong>FPR</strong> (False Positive Rate)</td>
                            <td>P(D=1|Y=0)</td>
                            <td>Von denen, die nicht profitieren: wie viele bekommen trotzdem Zugang?</td>
                        </tr>
                        <tr>
                            <td><strong>TNR</strong> (True Negative Rate)</td>
                            <td>P(D=0|Y=0)</td>
                            <td>Von denen, die nicht profitieren: wie viele werden korrekt abgelehnt?</td>
                        </tr>
                    </tbody>
                </table>
            `,
            
            task3: `
                <h2>Task 3: Decision Maker Utility</h2>
                
                <div class="alert alert-info">
                    <h3 class="card-title">√ñffentliche Erkl√§rung</h3>
                    <p>Als Arbeitsagentur m√ºssen wir Steuergelder verantwortungsvoll einsetzen. Wir betrachten die monet√§ren Kosten √ºber zwei Jahre nach jeder Entscheidung.</p>
                </div>
                
                <h3>Herleitung der Utility Matrix (in 1000 CHF)</h3>
                
                <div class="card">
                    <div class="card-title">Fall 1: D=1, Y=1 (Coaching ‚Üí Job gefunden)</div>
                    <p><strong>Jahr 1:</strong> -20k CHF (Programmkosten)</p>
                    <p><strong>Jahr 2:</strong> +30k CHF (keine Arbeitslosigkeit, gespart!)</p>
                    <p style="color: green; font-weight: bold;">‚Üí Utility = +10k CHF</p>
                </div>
                
                <div class="card">
                    <div class="card-title">Fall 2: D=1, Y=0 (Coaching ‚Üí kein Job)</div>
                    <p><strong>Jahr 1:</strong> -20k CHF (Programmkosten)</p>
                    <p><strong>Jahr 2:</strong> -30k CHF (Arbeitslosigkeit)</p>
                    <p style="color: red; font-weight: bold;">‚Üí Utility = -50k CHF</p>
                </div>
                
                <div class="card">
                    <div class="card-title">Fall 3: D=0, Y=1 (Kein Coaching ‚Üí Job gefunden)</div>
                    <p><strong>Jahr 1:</strong> -30k CHF (Arbeitslosigkeit)</p>
                    <p><strong>Jahr 2:</strong> 0 CHF (Job gefunden)</p>
                    <p style="color: orange; font-weight: bold;">‚Üí Utility = -30k CHF</p>
                </div>
                
                <div class="card">
                    <div class="card-title">Fall 4: D=0, Y=0 (Kein Coaching ‚Üí kein Job)</div>
                    <p><strong>Jahr 1:</strong> -30k CHF (Arbeitslosigkeit)</p>
                    <p><strong>Jahr 2:</strong> -30k CHF (Arbeitslosigkeit)</p>
                    <p style="color: red; font-weight: bold;">‚Üí Utility = -60k CHF</p>
                </div>
                
                <h3>Utility Matrix</h3>
                <table>
                    <thead>
                        <tr>
                            <th>D \ Y</th>
                            <th>Y=0 (kein Job)</th>
                            <th>Y=1 (Job)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>D=0</strong> (kein Coaching)</td>
                            <td style="text-align: center;">-60</td>
                            <td style="text-align: center;">-30</td>
                        </tr>
                        <tr>
                            <td><strong>D=1</strong> (Coaching)</td>
                            <td style="text-align: center;">-50</td>
                            <td style="text-align: center; color: green; font-weight: bold;">+10</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Optimaler Threshold</h3>
                <div class="card">
                    <p>Finde den Threshold, der den Gesamtnutzen maximiert:</p>
                    <pre>for threshold in np.arange(0, 1.01, 0.01):
    decisions = (scores >= threshold).astype(int)
    
    total_utility = 0
    for d in [0, 1]:
        for y in [0, 1]:
            count = np.sum((decisions == d) & (y_test == y))
            total_utility += count * U_DM[d, y]
    
    utilities.append(total_utility)

optimal_threshold = thresholds[np.argmax(utilities)]</pre>
                </div>
                
                <div class="alert alert-warning">
                    <strong>Theoretische √úberlegung:</strong> Bei perfekter Vorhersage w√§re der optimale Threshold 0, da Coaching in BEIDEN F√§llen (Y=1 und Y=0) g√ºnstiger ist als nichts zu tun! In der Praxis w√§hlen wir empirisch den besten Threshold.
                </div>
            `,
            
            task4: `
                <h2>Task 4: Fairness Kriterium</h2>
                
                <h3>4.1 Decision Subject Utility Matrix</h3>
                
                <div class="alert alert-info">
                    <h3 class="card-title">√ñffentliche Erkl√§rung</h3>
                    <p>Wir betrachten den Nutzen aus Sicht der Arbeitssuchenden. Der Referenzpunkt ist: Es gibt kein Programm f√ºr Langzeitarbeitslose.</p>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>D \ Y</th>
                            <th>Y=0 (kein Job)</th>
                            <th>Y=1 (Job)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>D=0</strong> (kein Coaching)</td>
                            <td style="text-align: center;">0.0</td>
                            <td style="text-align: center;">0.5</td>
                        </tr>
                        <tr>
                            <td><strong>D=1</strong> (Coaching)</td>
                            <td style="text-align: center;">0.2</td>
                            <td style="text-align: center; color: green; font-weight: bold;">1.0</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="card">
                    <div class="card-title">Begr√ºndung der Werte</div>
                    <ul>
                        <li><strong>V(1,1) = 1.0:</strong> Coaching erhalten UND Job gefunden - bester Fall</li>
                        <li><strong>V(0,1) = 0.5:</strong> Job gefunden, aber ohne Hilfe (schwieriger)</li>
                        <li><strong>V(1,0) = 0.2:</strong> Coaching erhalten, kein Job - aber Unterst√ºtzung war wertvoll</li>
                        <li><strong>V(0,0) = 0.0:</strong> Referenzpunkt - keine Hilfe, kein Job</li>
                    </ul>
                </div>
                
                <h3>4.2 Justifier J</h3>
                
                <div class="alert alert-warning">
                    <h3 class="card-title">Justifier: Potenzial vom Coaching zu profitieren (Y)</h3>
                    
                    <p><strong>Begr√ºndung:</strong></p>
                    <ul>
                        <li><strong>Knappheit:</strong> Das Programm ist teuer und begrenzt</li>
                        <li><strong>Zweck:</strong> Menschen helfen, die davon profitieren k√∂nnen</li>
                        <li><strong>Gerechtigkeit:</strong> Fair ist, denen zu helfen, die eine Chance auf Verbesserung haben</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Moralisch relevante Werte:</strong></p>
                    <ul>
                        <li><strong>J=1 (w√ºrde profitieren):</strong> <span style="color: green;">MORALISCH RELEVANT</span> - Fairness erfordert Gleichheit zwischen Gruppen</li>
                        <li><strong>J=0 (w√ºrde nicht profitieren):</strong> <span style="color: orange;">MORALISCH IRRELEVANT</span> - Programm hilft ohnehin nicht</li>
                    </ul>
                </div>
                
                <h3>4.3 Fairness-Kriterium</h3>
                
                <div class="card">
                    <div class="card-title">Herleitung</div>
                    <pre>Fairness f√ºr J=1:
E[V | A=white, J=1] = E[V | A=black, J=1]

P(D=1|white,J=1)¬∑V(1,1) + P(D=0|white,J=1)¬∑V(0,1) 
= P(D=1|black,J=1)¬∑V(1,1) + P(D=0|black,J=1)¬∑V(0,1)

Mit V(1,1)=1.0 und V(0,1)=0.5:
P(D=1|white,J=1)¬∑1.0 + (1-P(D=1|white,J=1))¬∑0.5
= P(D=1|black,J=1)¬∑1.0 + (1-P(D=1|black,J=1))¬∑0.5

Vereinfacht:
0.5¬∑P(D=1|white,J=1) + 0.5 = 0.5¬∑P(D=1|black,J=1) + 0.5

<strong>‚Üí P(D=1|white,Y=1) = P(D=1|black,Y=1)</strong></pre>
                </div>
                
                <div class="alert alert-success">
                    <h3 class="card-title">Finales Fairness-Kriterium: Equal Opportunity</h3>
                    <p><strong>TPR(white) = TPR(black)</strong></p>
                    <p>In Worten: Von allen Personen, die vom Coaching profitieren w√ºrden (Y=1), sollte der Anteil, der Zugang erh√§lt, f√ºr beide Gruppen gleich sein.</p>
                </div>
            `,
            
            task5: `
                <h2>Task 5: Pareto-Front & Trade-off</h2>
                
                <div class="alert alert-info">
                    <p>Es gibt einen fundamentalen Trade-off zwischen <strong>Decision Maker Utility</strong> (Effizienz) und <strong>Fairness</strong> (Equal Opportunity).</p>
                </div>
                
                <h3>Pareto-Front Berechnung</h3>
                <div class="card">
                    <p>Teste alle Kombinationen von gruppenspezifischen Schwellenwerten (101 √ó 101 = 10.201 Kombinationen):</p>
                    <pre>for t_white in np.arange(0, 1.01, 0.01):
    for t_black in np.arange(0, 1.01, 0.01):
        # Entscheidungen mit gruppenspezifischen Thresholds
        decisions_white = (scores[white] >= t_white)
        decisions_black = (scores[black] >= t_black)
        
        # Berechne:
        # 1. Gesamtnutzen (DM Utility)
        # 2. TPR-Differenz (Fairness-Verletzung)</pre>
                </div>
                
                <h3>Was ist die Pareto-Front?</h3>
                <div class="card">
                    <p>Ein Punkt ist <strong>Pareto-optimal</strong>, wenn es keinen anderen Punkt gibt, der in beiden Dimensionen (Utility UND Fairness) besser ist.</p>
                    <ul>
                        <li><strong>Nicht-dominiert:</strong> Man kann eine Dimension nur verbessern, indem man die andere verschlechtert</li>
                        <li><strong>Trade-off:</strong> Die Pareto-Front zeigt alle optimalen Kompromisse</li>
                    </ul>
                </div>
                
                <h3>Auswahl einer L√∂sung</h3>
                
                <div class="card">
                    <div class="card-title">Strategie 1: Minimale Fairness-Verletzung</div>
                    <p>W√§hle den Punkt mit TPR-Differenz < 0.05 und h√∂chstem Utility</p>
                    <ul>
                        <li>Priorisiert Fairness</li>
                        <li>Opfert etwas Effizienz</li>
                        <li>√ñffentlich gut vertretbar</li>
                    </ul>
                </div>
                
                <div class="card">
                    <div class="card-title">Strategie 2: Balanced Score</div>
                    <p>Gewichte: 60% Utility, 40% Fairness</p>
                    <pre>score = 0.6 * utility_normalized + 0.4 * fairness_normalized</pre>
                    <ul>
                        <li>Ausgewogener Kompromiss</li>
                        <li>Ber√ºcksichtigt beide Ziele</li>
                        <li>Gewichte sind politische Entscheidung</li>
                    </ul>
                </div>
                
                <div class="alert alert-success">
                    <h3 class="card-title">√ñffentliche Rechtfertigung</h3>
                    <p>Nach sorgf√§ltiger Abw√§gung haben wir uns f√ºr gruppenspezifische Schwellenwerte entschieden:</p>
                    <ul>
                        <li><strong>Fairness:</strong> TPR-Differenz wird minimiert ‚Üí beide Gruppen haben gleiche Chancen</li>
                        <li><strong>Effizienz:</strong> Utility wird maximiert innerhalb Fairness-Constraints</li>
                        <li><strong>Transparenz:</strong> Die Pareto-Analyse zeigt, dass perfekte Erf√ºllung beider Ziele unm√∂glich ist</li>
                        <li><strong>Legitimit√§t:</strong> Wir korrigieren systematische Verzerrungen im Modell</li>
                    </ul>
                </div>
            `,
            
            task6: `
                <h2>Task 6: Deployment 2018</h2>
                
                <div class="alert alert-warning">
                    <p>Das auf 2014-Daten trainierte Modell wird nun 4 Jahre sp√§ter (2018) eingesetzt. Wie hat sich die Performance ver√§ndert?</p>
                </div>
                
                <h3>Warum √§ndern sich die Ergebnisse?</h3>
                
                <div class="card">
                    <div class="card-title">1. Concept Drift (Konzept-Verschiebung)</div>
                    <ul>
                        <li>Wirtschaftslage 2014 vs. 2018 unterschiedlich</li>
                        <li>Arbeitsmarkt hat sich ver√§ndert</li>
                        <li>Anforderungen der Arbeitgeber haben sich gewandelt</li>
                        <li>Das Modell wurde auf 2014-Daten trainiert und "veraltet"</li>
                    </ul>
                </div>
                
                <div class="card">
                    <div class="card-title">2. Demografische Verschiebungen</div>
                    <ul>
                        <li>Zusammensetzung der Langzeitarbeitslosen hat sich ge√§ndert</li>
                        <li>Unterschiedliche Bildungsniveaus, Altersstrukturen</li>
                        <li>Migration und demografischer Wandel</li>
                    </ul>
                </div>
                
                <div class="card">
                    <div class="card-title">3. Modell-Degradation</div>
                    <ul>
                        <li>Features, die 2014 pr√§diktiv waren, sind es 2018 vielleicht nicht mehr</li>
                        <li>Kalibrierung verschlechtert sich √ºber Zeit</li>
                        <li>Score-Verteilungen verschieben sich</li>
                    </ul>
                </div>
                
                <div class="card">
                    <div class="card-title">4. Differentielle Degradation ‚ö†Ô∏è</div>
                    <ul>
                        <li>Das Modell k√∂nnte f√ºr eine Gruppe st√§rker degradieren als f√ºr die andere</li>
                        <li>Dies w√ºrde Fairness-Probleme versch√§rfen</li>
                        <li>Systematischer Bias kann √ºber Zeit zunehmen</li>
                    </ul>
                </div>
                
                <h3>Was wird untersucht?</h3>
                <ul>
                    <li><strong>Accuracy:</strong> Hat sich die Vorhersagequalit√§t verschlechtert?</li>
                    <li><strong>Kalibrierung:</strong> Stimmen Vorhersagen noch mit Realit√§t √ºberein?</li>
                    <li><strong>Optimaler Threshold:</strong> Hat sich der beste Threshold verschoben?</li>
                    <li><strong>Fairness:</strong> Ist Equal Opportunity noch erf√ºllt?</li>
                    <li><strong>Gruppenunterschiede:</strong> Haben sich diese vergr√∂√üert oder verkleinert?</li>
                </ul>
                
                <h3>Empfehlungen f√ºr die Praxis</h3>
                
                <div class="alert alert-success">
                    <h3 class="card-title">Best Practices f√ºr ML-Deployment</h3>
                    
                    <div style="margin-top: 15px;">
                        <strong>1. Kontinuierliches Monitoring</strong>
                        <ul>
                            <li>Performance-Metriken quartalsweise tracken</li>
                            <li>Fairness-Metriken f√ºr beide Gruppen √ºberwachen</li>
                            <li>Automatische Alerts bei signifikanten √Ñnderungen</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong>2. Regelm√§√üiges Retraining</strong>
                        <ul>
                            <li>Modell j√§hrlich mit aktuellen Daten neu trainieren</li>
                            <li>Sliding time windows verwenden</li>
                            <li>Alle Versionen dokumentieren</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong>3. Threshold-Anpassung</strong>
                        <ul>
                            <li>Auch ohne Retraining k√∂nnen Thresholds angepasst werden</li>
                            <li>Gruppenspezifische Thresholds zur Fairness-Erhaltung</li>
                            <li>Basierend auf aktuellen Daten optimieren</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong>4. Fairness Audits</strong>
                        <ul>
                            <li>Regelm√§√üige externe √úberpr√ºfungen</li>
                            <li>Dialog mit betroffenen Communities</li>
                            <li>Transparente Dokumentation</li>
                            <li>√ñffentliche Fairness-Reports</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong>5. Human Oversight</strong>
                        <ul>
                            <li>Menschliche √úberpr√ºfung bei Grenzf√§llen</li>
                            <li>Appeals-Prozess f√ºr Abgelehnte</li>
                            <li>Schulung des Personals zu Fairness</li>
                            <li>Qualitative Faktoren ber√ºcksichtigen</li>
                        </ul>
                    </div>
                </div>
            `
        };
        
        function showTask(taskId) {
            // Update content
            document.getElementById('content').innerHTML = content[taskId];
            
            // Update active button
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.nav-button').classList.add('active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Initial content
        document.getElementById('content').innerHTML = content.overview;
    </script>
</body>
</html>